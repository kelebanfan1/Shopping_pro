{"version":3,"file":"vk-data-goods-sku-popup.js","sources":["../../../../../src/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue","../../../../../uniComponent:/RTovdW5pYXBwLXByby9oZWltYS1zaG9wL3NyYy9jb21wb25lbnRzL3ZrLWRhdGEtZ29vZHMtc2t1LXBvcHVwL3ZrLWRhdGEtZ29vZHMtc2t1LXBvcHVwLnZ1ZQ"],"sourcesContent":["<!-- \r\n【开箱即用】商品sku选择器组件豪华独立版（打造uni插件市场功能最全的SKU选择器组件）\r\n插件名称：vk-data-goods-sku-popup\r\n插件类型：业务型数据驱动组件\r\n作者：VK\r\n如有问题，可加Q群：22466457 反馈\r\n -->\r\n<template>\r\n  <view\r\n    class=\"vk-data-goods-sku-popup\"\r\n    :style=\"{ zIndex: zIndex }\"\r\n    catchtouchmove=\"true\"\r\n    :class=\"valueCom && complete ? 'show' : 'none'\"\r\n    @touchmove.stop.prevent=\"moveHandle\"\r\n    @click.stop=\"stop\"\r\n  >\r\n    <!-- 页面内容开始 -->\r\n    <view class=\"mask\" @click=\"close('mask')\"></view>\r\n    <view\r\n      class=\"layer attr-content\"\r\n      :class=\"{ 'safe-area-inset-bottom': safeAreaInsetBottom }\"\r\n      :style=\"{ borderRadius: borderRadius + 'rpx ' + borderRadius + 'rpx 0 0' }\"\r\n    >\r\n      <view class=\"specification-wrapper\">\r\n        <scroll-view class=\"specification-wrapper-content\" scroll-y=\"true\">\r\n          <view class=\"specification-header\">\r\n            <view class=\"specification-left\">\r\n              <image\r\n                class=\"product-img\"\r\n                :src=\"selectShop.image ? selectShop.image : goodsInfo[goodsThumbName]\"\r\n                :style=\"{ backgroundColor: goodsThumbBackgroundColor }\"\r\n                mode=\"aspectFill\"\r\n                @click=\"previewImage\"\r\n              ></image>\r\n            </view>\r\n            <view class=\"specification-right\">\r\n              <view class=\"price-content\" :style=\"{ color: themeColorFn('priceColor') }\">\r\n                <text class=\"sign\">¥</text>\r\n                <text class=\"price\" :class=\"priceCom.length > 16 ? 'price2' : ''\">{{\r\n                  priceCom\r\n                }}</text>\r\n              </view>\r\n              <view class=\"inventory\" v-if=\"!hideStock\">{{ stockText }}：{{ stockCom }}</view>\r\n              <view class=\"inventory\" v-else></view>\r\n              <view class=\"choose\" v-show=\"isManyCom\">已选：{{ selectArr.join(' ') }}</view>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"specification-content\">\r\n            <view\r\n              v-show=\"isManyCom\"\r\n              class=\"specification-item\"\r\n              v-for=\"(item, index1) in goodsInfo[specListName]\"\r\n              :key=\"index1\"\r\n            >\r\n              <view class=\"item-title\">{{ item.name }}</view>\r\n              <view class=\"item-wrapper\">\r\n                <view\r\n                  class=\"item-content\"\r\n                  v-for=\"(item_value, index2) in item.list\"\r\n                  :key=\"index2\"\r\n                  :class=\"[\r\n                    item_value.ishow ? '' : 'noactived',\r\n                    subIndex[index1] == index2 ? 'actived' : '',\r\n                  ]\"\r\n                  :style=\"[\r\n                    item_value.ishow ? '' : themeColorFn('disableStyle'),\r\n                    item_value.ishow ? themeColorFn('btnStyle') : '',\r\n                    subIndex[index1] == index2 ? themeColorFn('activedStyle') : '',\r\n                  ]\"\r\n                  @click=\"skuClick(item_value, index1, index2)\"\r\n                >\r\n                  {{ item_value.name }}\r\n                </view>\r\n              </view>\r\n            </view>\r\n            <view class=\"number-box-view\">\r\n              <view style=\"flex: 1\">数量</view>\r\n              <view style=\"flex: 4; text-align: right\">\r\n                <vk-data-input-number-box\r\n                  v-model=\"selectNum\"\r\n                  :min=\"minBuyNum || 1\"\r\n                  :max=\"maxBuyNumCom\"\r\n                  :step=\"stepBuyNum || 1\"\r\n                  :step-strictly=\"stepStrictly\"\r\n                  :positive-integer=\"true\"\r\n                  @change=\"numChange\"\r\n                ></vk-data-input-number-box>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n        <view class=\"close\" @click=\"close('close')\" v-if=\"showClose != false\"\r\n          ><image class=\"close-item\" :src=\"closeImage\"></image\r\n        ></view>\r\n      </view>\r\n\r\n      <view class=\"btn-wrapper\" v-if=\"outFoStock || mode == 4\">\r\n        <view class=\"sure\" style=\"color: #ffffff; background-color: #cccccc\">{{\r\n          noStockText\r\n        }}</view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 1\">\r\n        <view\r\n          class=\"sure add-cart\"\r\n          style=\"border-radius: 38rpx 0rpx 0rpx 38rpx\"\r\n          :style=\"{\r\n            color: themeColorFn('addCartColor'),\r\n            backgroundColor: themeColorFn('addCartBackgroundColor'),\r\n          }\"\r\n          @click=\"addCart\"\r\n        >\r\n          {{ addCartText }}\r\n        </view>\r\n\r\n        <view\r\n          class=\"sure\"\r\n          style=\"border-radius: 0rpx 38rpx 38rpx 0rpx\"\r\n          :style=\"{\r\n            color: themeColorFn('buyNowColor'),\r\n            backgroundColor: themeColorFn('buyNowBackgroundColor'),\r\n          }\"\r\n          @click=\"buyNow\"\r\n        >\r\n          {{ buyNowText }}\r\n        </view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 2\">\r\n        <view\r\n          class=\"sure add-cart\"\r\n          :style=\"{\r\n            color: themeColorFn('addCartColor'),\r\n            backgroundColor: themeColorFn('addCartBackgroundColor'),\r\n          }\"\r\n          @click=\"addCart\"\r\n        >\r\n          {{ addCartText }}\r\n        </view>\r\n      </view>\r\n      <view class=\"btn-wrapper\" v-else-if=\"mode == 3\">\r\n        <view\r\n          class=\"sure\"\r\n          :style=\"{\r\n            color: themeColorFn('buyNowColor'),\r\n            backgroundColor: themeColorFn('buyNowBackgroundColor'),\r\n          }\"\r\n          @click=\"buyNow\"\r\n        >\r\n          {{ buyNowText }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- 页面内容结束 -->\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n//禁用eslint检查\r\n/* eslint-disable */\r\nvar vk // vk依赖\r\nvar goodsCache = {} // 本地商品缓存\r\nexport default {\r\n  name: 'vk-data-goods-sku-popup',\r\n  emits: [\r\n    'update:modelValue',\r\n    'input',\r\n    'update-goods',\r\n    'open',\r\n    'close',\r\n    'add-cart',\r\n    'buy-now',\r\n    'cart',\r\n    'buy',\r\n    'num-change',\r\n  ],\r\n  props: {\r\n    // true 组件显示 false 组件隐藏\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    modelValue: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // vk云函数路由模式参数开始-----------------------------------------------------------\r\n    // 商品id\r\n    goodsId: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // vk路由模式框架下的云函数地址\r\n    action: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    // vk云函数路由模式参数结束-----------------------------------------------------------\r\n    // 该商品已抢完时的按钮文字\r\n    noStockText: {\r\n      type: String,\r\n      default: '该商品已抢完',\r\n    },\r\n    // 库存文字\r\n    stockText: {\r\n      type: String,\r\n      default: '库存',\r\n    },\r\n    // 商品表id的字段名\r\n    goodsIdName: {\r\n      type: String,\r\n      default: '_id',\r\n    },\r\n    // sku表id的字段名\r\n    skuIdName: {\r\n      type: String,\r\n      default: '_id',\r\n    },\r\n    // sku_list的字段名\r\n    skuListName: {\r\n      type: String,\r\n      default: 'sku_list',\r\n    },\r\n    // spec_list的字段名\r\n    specListName: {\r\n      type: String,\r\n      default: 'spec_list',\r\n    },\r\n    // 库存的字段名 默认 stock\r\n    stockName: {\r\n      type: String,\r\n      default: 'stock',\r\n    },\r\n    // sku组合路径的字段名\r\n    skuArrName: {\r\n      type: String,\r\n      default: 'sku_name_arr',\r\n    },\r\n    // 默认单规格时的规格组名称\r\n    defaultSingleSkuName: {\r\n      type: String,\r\n      default: '默认',\r\n    },\r\n    // 模式 1:都显示  2:只显示购物车 3:只显示立即购买 4:显示缺货按钮 默认 1\r\n    mode: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    // 点击遮罩是否关闭组件 true 关闭 false 不关闭 默认true\r\n    maskCloseAble: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 顶部圆角值\r\n    borderRadius: {\r\n      type: [String, Number],\r\n      default: 0,\r\n    },\r\n    // 商品缩略图字段名(未选择sku时)\r\n    goodsThumbName: {\r\n      type: [String],\r\n      default: 'goods_thumb',\r\n    },\r\n    // 商品缩略图背景颜色，如#999999\r\n    goodsThumbBackgroundColor: {\r\n      type: String,\r\n      default: 'transparent',\r\n    },\r\n    // 最小购买数量 默认 1\r\n    minBuyNum: {\r\n      type: [Number, String],\r\n      default: 1,\r\n    },\r\n    // 最大购买数量 默认 100000\r\n    maxBuyNum: {\r\n      type: [Number, String],\r\n      default: 100000,\r\n    },\r\n    // 步进器步长 默认 1\r\n    stepBuyNum: {\r\n      type: [Number, String],\r\n      default: 1,\r\n    },\r\n    // 是否只能输入 step 的倍数\r\n    stepStrictly: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 自定义获取商品信息的函数,支付宝小程序不支持该属性,请使用localdata属性\r\n    customAction: {\r\n      type: [Function],\r\n      default: null,\r\n    },\r\n    // 本地数据源\r\n    localdata: {\r\n      type: Object,\r\n    },\r\n    // 价格的字体颜色\r\n    priceColor: {\r\n      type: String,\r\n    },\r\n    // 立即购买按钮的文字\r\n    buyNowText: {\r\n      type: String,\r\n      default: '立即购买',\r\n    },\r\n    // 立即购买按钮的字体颜色\r\n    buyNowColor: {\r\n      type: String,\r\n    },\r\n    // 立即购买按钮的背景颜色\r\n    buyNowBackgroundColor: {\r\n      type: String,\r\n    },\r\n    // 加入购物车按钮的文字\r\n    addCartText: {\r\n      type: String,\r\n      default: '加入购物车',\r\n    },\r\n    // 加入购物车按钮的字体颜色\r\n    addCartColor: {\r\n      type: String,\r\n    },\r\n    // 加入购物车按钮的背景颜色\r\n    addCartBackgroundColor: {\r\n      type: String,\r\n    },\r\n    // 不可点击时,按钮的样式\r\n    disableStyle: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    // 按钮点击时的样式\r\n    activedStyle: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    // 按钮常态的样式\r\n    btnStyle: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n    // 是否显示右上角关闭按钮\r\n    showClose: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    // 关闭按钮的图片地址 https://img.alicdn.com/imgextra/i1/121022687/O1CN01ImN0O11VigqwzpLiK_!!121022687.png\r\n    closeImage: {\r\n      type: String,\r\n      default:\r\n        'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAEyUlEQVR42sSZeWwNURTGp4OqtBo7sSXELragdkpQsRRJ1Zr4hyJiJ9YgxNIg1qANiT+E1i5IY0kVVWtQEbuEKLFGUSH27/ANN5PXmTvzupzkl/tm8t6b7517lnvvC0lKSjJ8WmnQAUSDFqABqALKgl8gD7wE90E2SAeXwFf1SxISErQeVtKHwCgwFsSDSIf3hYFKoCkYDBaDdyAViHdueHmoF6FtwDLQ23b/E7gM7oIcejIERIDaoBFoC8qA8mA8SQNz6W1XC9GY+nCQCCYAk/c+gF0gBZwH312+IxR0BCPBUIaH2A+wHsxHCHxx+gLT5QGN6a2JfG8uvVCDws9oiDQYlxkMGfHyQvARlADTwcXk5OT6foV2kS8ATXidymlcyen1a/Jjl9IJh3hPkjELYqO8Cu0KjjNZvtETw5jFBWXPmGSTGQKSeOn5iQ0kVLL0CINfPNcPbDMKyRCbGzEMBJ+ZD8cChYFdqGTqfsWT8otPGoVsEHsMwxDFs3shNsxJ6BrQ0Po8OGUUkVHsNCVml+cntB1jUWwn2GEUsTEMrASbDK+2CCQ0kYX6nfLLisMmKqUr0S60M+jG10vAm+JSCa8+x7CKlzHwaktV6DiObzUzPJIxFO1BQ12wGtTReO9GetVgY/kjNJzZbcWmTjHfxw51AsRqvL8eOAtmsJuFu3g1l+1ZLB5eDTVZ3K0P7tL0TkWOpSg61kVkBtuuNRthGs+wtJST5aQI7cEbkkRXNYVKgX6kIdYuUhYzMQwxN8tiExCLFqHNeSF9/aem0BzGp5PYQCJ7c/Gsk1RfuSD6U1dNpcDf9ZigTmKbMRZ9iVTsHscGJluW2FMf1SSQWGnBmaB6kCJVTVVNJZE++Cx9drEllS1KMCINpURFmEbBWA63Fz9s95cGIdJgp/zXmT4pZcOvSUzuZttTbblmnc3PIjjmidDXvKgdhMh0JdbzuCjWrbNOVovjS5P7bkPJ/mBESkz2BO0166ybNeJ431S2q+01NntuIq3E0amzjiZtk9tssWyTDzO4525bACK9NAUn68TtkNhpEXpOSagRml+S6iLSSeweHv242Qhl13rRyvoDvDlKyTQny/ZQJ+1iH7vVbEx7OR5UiKVIO7VicgvHCtwrudloMIV7/0uadVYW57O4Wvvi8v4pymlKkrpwvsDeLLZAY2pkwbAB3PSQfC+4cH7l4k1ZH8zkZRq8ecO+Z5rN40JJqnXFuGfaxPCTLjcn0OZOpnArXw8HY4paIbw5CcMgXq6HN2/mt6+XGLrN15tBryIUGavMpCTrfKcDCKkAceA9S8nhAOehhSUyhXpkBxxnP4YM1InugP7cBkjBPcqVUWFYCEROxXiQz5JlXV+IfKh7mpfJac+lZ6V87QXVClBkTc7YWsWTPSDyitfzUTlJlj8TbvE6jluDOdwZ+jX57GLO3ADeuyZrDYi86vV81FD2UVGsmT+5Zl0BnkhoseOEaogL46pqO4v/IqUEyalIR4h85BgjHv6+aUWRMbb7EstX6O0cpT1Gco0ry8fWygLDMjmDnQeBt3Qe7uVfkeugDwVLcsVzGsuwLXbV+I63XNAkG5r/hvgRqgqWs6pJPKrsbvz/Q6yyun0w/h6lP+BnzrCpfPMT2L8FGAA7k1GZ/vnaqAAAAABJRU5ErkJggg==',\r\n    },\r\n    // 是否隐藏库存显示\r\n    hideStock: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 颜色主题\r\n    theme: {\r\n      type: String,\r\n      default: 'default',\r\n    },\r\n    // 请求中的提示\r\n    actionTips: {\r\n      type: String,\r\n      default: '请求中...',\r\n    },\r\n    // 默认选中的SKU\r\n    defaultSelect: {\r\n      type: Object,\r\n    },\r\n    // 是否使用缓存\r\n    useCache: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /**\r\n     * 默认商品,设置该值可快速展示商品\r\n     * 逻辑: 先展示 defaultGoods 信息,再取数据库,再更新页面(通常为更新库存)\r\n     */\r\n    defaultGoods: {\r\n      type: Object,\r\n    },\r\n    /**\r\n     * 金额是否需要除以100\r\n     * 1:金额会除以100\r\n     * 0:金额不会除以100\r\n     */\r\n    amountType: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    // 每次选择完SKU后，购买数量归1，如果有最小购买数量，则设置为最小购买数量\r\n    selectedInit: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // 是否开启底部安全区适配，默认true\r\n    safeAreaInsetBottom: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    zIndex: {\r\n      type: [Number, String],\r\n      default: 990,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      complete: false, // 组件是否加载完成\r\n      goodsInfo: {}, // 商品信息\r\n      isShow: false, // true 显示 false 隐藏\r\n      initKey: true, // 是否需要初始化 true 是 false 否\r\n      // #ifndef MP-BAIDU\r\n      shopItemInfo: {}, // 存放要和选中的值进行匹配的数据（因百度小程序setData不支持中文字段，故不编译shopItemInfo变量）\r\n      // #endif\r\n      selectArr: [], // 存放被选中的值\r\n      subIndex: [], // 是否选中 因为不确定是多规格还是单规格，所以这里定义数组来判断\r\n      selectShop: {}, // 存放最后选中的商品\r\n      selectNum: this.minBuyNum || 1, // 选中数量\r\n      outFoStock: false, // 是否全部sku都缺货\r\n      openTime: 0,\r\n      themeColor: {\r\n        // 默认主题\r\n        default: {\r\n          priceColor: 'rgb(254, 86, 10)',\r\n          buyNowColor: '#ffffff',\r\n          buyNowBackgroundColor: 'rgb(254, 86, 10)',\r\n          addCartColor: '#ffffff',\r\n          addCartBackgroundColor: 'rgb(255, 148, 2)',\r\n          btnStyle: {\r\n            color: '#333333',\r\n            borderColor: '#f4f4f4',\r\n            backgroundColor: '#ffffff',\r\n          },\r\n          activedStyle: {\r\n            color: 'rgb(254, 86, 10)',\r\n            borderColor: 'rgb(254, 86, 10)',\r\n            backgroundColor: 'rgba(254,86,10,0.1)',\r\n          },\r\n          disableStyle: {\r\n            color: '#c3c3c3',\r\n            borderColor: '#f6f6f6',\r\n            backgroundColor: '#f6f6f6',\r\n          },\r\n        },\r\n        // 红黑主题\r\n        'red-black': {\r\n          priceColor: 'rgb(255, 68, 68)',\r\n          buyNowColor: '#ffffff',\r\n          buyNowBackgroundColor: 'rgb(255, 68, 68)',\r\n          addCartColor: '#ffffff',\r\n          addCartBackgroundColor: 'rgb(85, 85, 85)',\r\n          activedStyle: {\r\n            color: 'rgb(255, 68, 68)',\r\n            borderColor: 'rgb(255, 68, 68)',\r\n            backgroundColor: 'rgba(255,68,68,0.1)',\r\n          },\r\n        },\r\n        // 黑白主题\r\n        'black-white': {\r\n          priceColor: 'rgb(47, 47, 52)',\r\n          buyNowColor: '#ffffff',\r\n          buyNowBackgroundColor: 'rgb(47, 47, 52)',\r\n          addCartColor: 'rgb(47, 47, 52)',\r\n          addCartBackgroundColor: 'rgb(235, 236, 242)',\r\n          // btnStyle:{\r\n          // \tcolor:\"rgb(47, 47, 52)\",\r\n          // \tborderColor:\"rgba(235,236,242,0.5)\",\r\n          // \tbackgroundColor:\"rgba(235,236,242,0.5)\",\r\n          // },\r\n          activedStyle: {\r\n            color: 'rgb(47, 47, 52)',\r\n            borderColor: 'rgba(47,47,52,0.12)',\r\n            backgroundColor: 'rgba(47,47,52,0.12)',\r\n          },\r\n        },\r\n        // 咖啡色主题\r\n        coffee: {\r\n          priceColor: 'rgb(195, 167, 105)',\r\n          buyNowColor: '#ffffff',\r\n          buyNowBackgroundColor: 'rgb(195, 167, 105)',\r\n          addCartColor: 'rgb(195, 167, 105)',\r\n          addCartBackgroundColor: 'rgb(243, 238, 225)',\r\n          activedStyle: {\r\n            color: 'rgb(195, 167, 105)',\r\n            borderColor: 'rgb(195, 167, 105)',\r\n            backgroundColor: 'rgba(195, 167, 105,0.1)',\r\n          },\r\n        },\r\n        // 浅绿色主题\r\n        green: {\r\n          priceColor: 'rgb(99, 190, 114)',\r\n          buyNowColor: '#ffffff',\r\n          buyNowBackgroundColor: 'rgb(99, 190, 114)',\r\n          addCartColor: 'rgb(99, 190, 114)',\r\n          addCartBackgroundColor: 'rgb(225, 244, 227)',\r\n          activedStyle: {\r\n            color: 'rgb(99, 190, 114)',\r\n            borderColor: 'rgb(99, 190, 114)',\r\n            backgroundColor: 'rgba(99, 190, 114,0.1)',\r\n          },\r\n        },\r\n      },\r\n    }\r\n  },\r\n  created() {\r\n    let that = this\r\n    vk = that.vk\r\n    if (that.valueCom) {\r\n      that.open()\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    // 初始化\r\n    init(notAutoClick) {\r\n      let that = this\r\n      // 清空之前的数据\r\n      that.selectArr = []\r\n      that.subIndex = []\r\n      that.selectShop = {}\r\n      that.selectNum = that.minBuyNum || 1\r\n      that.outFoStock = false\r\n      that.shopItemInfo = {}\r\n      let specListName = that.specListName\r\n      that.goodsInfo[specListName].map((item) => {\r\n        that.selectArr.push('')\r\n        that.subIndex.push(-1)\r\n      })\r\n      that.checkItem() // 计算sku里面规格形成路径\r\n      that.checkInpath(-1) // 传-1是为了不跳过循环\r\n      if (!notAutoClick) that.autoClickSku() // 自动选择sku策略\r\n    },\r\n    // 使用vk路由模式框架获取商品信息\r\n    findGoodsInfo(obj = {}) {\r\n      let that = this\r\n      let { useCache } = obj\r\n      if (typeof vk == 'undefined') {\r\n        that.toast('custom-action必须是function', 'none')\r\n        return false\r\n      }\r\n      let { actionTips } = that\r\n      let actionTitle = ''\r\n      let actionAoading = false\r\n      if (actionTips !== 'custom') {\r\n        actionTitle = useCache ? '' : '请求中...'\r\n      } else {\r\n        actionAoading = useCache ? false : true\r\n      }\r\n      vk.callFunction({\r\n        url: that.action,\r\n        title: actionTitle,\r\n        loading: actionAoading,\r\n        data: {\r\n          goods_id: that.goodsId,\r\n        },\r\n        success(data) {\r\n          that.updateGoodsInfo(data.goodsInfo)\r\n          // 更新缓存\r\n          goodsCache[that.goodsId] = data.goodsInfo\r\n          that.$emit('update-goods', data.goodsInfo)\r\n        },\r\n        fail() {\r\n          that.updateValue(false)\r\n        },\r\n      })\r\n    },\r\n    updateValue(value) {\r\n      let that = this\r\n      if (value) {\r\n        that.$emit('open', true)\r\n        that.$emit('input', true)\r\n        that.$emit('update:modelValue', true)\r\n      } else {\r\n        that.$emit('input', false)\r\n        that.$emit('close', 'close')\r\n        that.$emit('update:modelValue', false)\r\n      }\r\n    },\r\n    // 更新商品信息(库存、名称、图片)\r\n    updateGoodsInfo(goodsInfo) {\r\n      let that = this\r\n      // goodsInfo.sku_list.map((item, index) => {\r\n      // \titem.sku_name_arr = [\"20ml/瓶\"];\r\n      // });\r\n      let { skuListName } = that\r\n      if (\r\n        JSON.stringify(that.goodsInfo) === '{}' ||\r\n        that.goodsInfo[that.goodsIdName] !== goodsInfo[that.goodsIdName]\r\n      ) {\r\n        that.goodsInfo = goodsInfo\r\n        that.initKey = true\r\n      } else {\r\n        that.goodsInfo[skuListName] = goodsInfo[skuListName]\r\n      }\r\n      if (that.initKey) {\r\n        that.initKey = false\r\n        that.init()\r\n      }\r\n      // 更新选中sku的库存信息\r\n      let select_sku_info = that.getListItem(\r\n        that.goodsInfo[skuListName],\r\n        that.skuIdName,\r\n        that.selectShop[that.skuIdName],\r\n      )\r\n      Object.assign(that.selectShop, select_sku_info)\r\n      that.defaultSelectSku()\r\n      that.complete = true\r\n    },\r\n    async open() {\r\n      let that = this\r\n      that.openTime = new Date().getTime()\r\n      let findGoodsInfoRun = true\r\n      let skuListName = that.skuListName\r\n      // 先获取缓存中的商品信息\r\n      let useCache = false\r\n      let goodsInfo = goodsCache[that.goodsId]\r\n      if (goodsInfo && that.useCache) {\r\n        useCache = true\r\n        that.updateGoodsInfo(goodsInfo)\r\n      } else {\r\n        that.complete = false\r\n      }\r\n      if (that.customAction && typeof that.customAction === 'function') {\r\n        try {\r\n          goodsInfo = await that\r\n            .customAction({\r\n              useCache,\r\n              goodsId: that.goodsId,\r\n              goodsInfo,\r\n              close: function () {\r\n                setTimeout(function () {\r\n                  that.close()\r\n                }, 500)\r\n              },\r\n            })\r\n            .catch((err) => {\r\n              setTimeout(function () {\r\n                that.close()\r\n              }, 500)\r\n            })\r\n        } catch (err) {\r\n          let { message = '' } = err\r\n          if (message.indexOf('.catch is not a function') > -1) {\r\n            that.toast('custom-action必须返回一个Promise', 'none')\r\n            setTimeout(function () {\r\n              that.close()\r\n            }, 500)\r\n            return false\r\n          }\r\n        }\r\n        // 更新缓存\r\n        goodsCache[that.goodsId] = goodsInfo\r\n        if (goodsInfo && typeof goodsInfo == 'object' && JSON.stringify(goodsInfo) != '{}') {\r\n          findGoodsInfoRun = false\r\n          that.updateGoodsInfo(goodsInfo)\r\n          that.updateValue(true)\r\n        } else {\r\n          that.toast('未获取到商品信息', 'none')\r\n          that.$emit('input', false)\r\n          return false\r\n        }\r\n      } else if (typeof that.localdata !== 'undefined' && that.localdata !== null) {\r\n        goodsInfo = that.localdata\r\n        if (goodsInfo && typeof goodsInfo == 'object' && JSON.stringify(goodsInfo) != '{}') {\r\n          findGoodsInfoRun = false\r\n          that.updateGoodsInfo(goodsInfo)\r\n          that.updateValue(true)\r\n        } else {\r\n          that.toast('未获取到商品信息', 'none')\r\n          that.$emit('input', false)\r\n          return false\r\n        }\r\n      } else {\r\n        if (findGoodsInfoRun) that.findGoodsInfo({ useCache })\r\n      }\r\n    },\r\n    // 监听 - 弹出层收起\r\n    close(s) {\r\n      let that = this\r\n      if (new Date().getTime() - that.openTime < 400) {\r\n        return false\r\n      }\r\n      if (s == 'mask') {\r\n        if (that.maskCloseAble !== false) {\r\n          that.$emit('input', false)\r\n          that.$emit('close', 'mask')\r\n          that.$emit('update:modelValue', false)\r\n        }\r\n      } else {\r\n        that.$emit('input', false)\r\n        that.$emit('close', 'close')\r\n        that.$emit('update:modelValue', false)\r\n      }\r\n    },\r\n    moveHandle() {\r\n      //禁止父元素滑动\r\n    },\r\n    // sku按钮的点击事件\r\n    skuClick(value, index1, index2) {\r\n      let that = this\r\n      if (value.ishow) {\r\n        if (that.selectArr[index1] != value.name) {\r\n          that.$set(that.selectArr, index1, value.name)\r\n          that.$set(that.subIndex, index1, index2)\r\n        } else {\r\n          that.$set(that.selectArr, index1, '')\r\n          that.$set(that.subIndex, index1, -1)\r\n        }\r\n        that.checkInpath(index1)\r\n        // 如果全部选完\r\n        that.checkSelectShop()\r\n      }\r\n    },\r\n    // 检测是否已经选完sku\r\n    checkSelectShop() {\r\n      let that = this\r\n      // 如果全部选完\r\n      if (that.selectArr.every((item) => item != '')) {\r\n        that.selectShop = that.shopItemInfo[that.getArrayToSting(that.selectArr)]\r\n        let stock = that.selectShop[that.stockName]\r\n        if (typeof stock !== 'undefined' && that.selectNum > stock) {\r\n          that.selectNum = stock\r\n        }\r\n        if (that.selectNum > that.maxBuyNum) {\r\n          that.selectNum = that.maxBuyNum\r\n        }\r\n        if (that.selectNum < that.minBuyNum) {\r\n          that.selectNum = that.minBuyNum\r\n        }\r\n        if (that.selectedInit) {\r\n          that.selectNum = that.minBuyNum || 1\r\n        }\r\n      } else {\r\n        that.selectShop = {}\r\n      }\r\n    },\r\n    // 检查路径\r\n    checkInpath(clickIndex) {\r\n      let that = this\r\n      let specListName = that.specListName\r\n      //console.time('筛选可选路径需要的时间是');\r\n      //循环所有属性判断哪些属性可选\r\n      //当前选中的兄弟节点和已选中属性不需要循环\r\n      let specList = that.goodsInfo[specListName]\r\n      for (let i = 0, len = specList.length; i < len; i++) {\r\n        if (i == clickIndex) {\r\n          continue\r\n        }\r\n        let len2 = specList[i].list.length\r\n        for (let j = 0; j < len2; j++) {\r\n          if (that.subIndex[i] != -1 && j == that.subIndex[i]) {\r\n            continue\r\n          }\r\n          let choosed_copy = [...that.selectArr]\r\n          that.$set(choosed_copy, i, specList[i].list[j].name)\r\n          let choosed_copy2 = choosed_copy.filter(\r\n            (item) => item !== '' && typeof item !== 'undefined',\r\n          )\r\n          if (\r\n            Object.prototype.hasOwnProperty.call(\r\n              that.shopItemInfo,\r\n              that.getArrayToSting(choosed_copy2),\r\n            )\r\n          ) {\r\n            specList[i].list[j].ishow = true\r\n          } else {\r\n            specList[i].list[j].ishow = false\r\n          }\r\n        }\r\n      }\r\n      that.$set(that.goodsInfo, specListName, specList)\r\n      // console.timeEnd('筛选可选路径需要的时间是');\r\n    },\r\n    // 计算sku里面规格形成路径\r\n    checkItem() {\r\n      let that = this\r\n      // console.time('计算有多小种可选路径需要的时间是');\r\n      let { stockName } = that\r\n      let skuListName = that.skuListName\r\n      // 去除库存小于等于0的商品sku\r\n      let originalSkuList = that.goodsInfo[skuListName]\r\n      let skuList = []\r\n      let stockNum = 0\r\n      originalSkuList.map((skuItem, index) => {\r\n        if (skuItem[stockName] > 0) {\r\n          skuList.push(skuItem)\r\n          stockNum += skuItem[stockName]\r\n        }\r\n      })\r\n      if (stockNum <= 0) {\r\n        that.outFoStock = true\r\n      }\r\n      // 计算有多小种可选路径\r\n      let result = skuList.reduce(\r\n        (arrs, items) => {\r\n          return arrs.concat(\r\n            items[that.skuArrName].reduce(\r\n              (arr, item) => {\r\n                return arr.concat(\r\n                  arr.map((item2) => {\r\n                    // 利用对象属性的唯一性实现二维数组去重\r\n                    if (\r\n                      !Object.prototype.hasOwnProperty.call(\r\n                        that.shopItemInfo,\r\n                        that.getArrayToSting([...item2, item]),\r\n                      )\r\n                    ) {\r\n                      that.shopItemInfo[that.getArrayToSting([...item2, item])] = items\r\n                    }\r\n                    return [...item2, item]\r\n                  }),\r\n                )\r\n              },\r\n              [[]],\r\n            ),\r\n          )\r\n        },\r\n        [[]],\r\n      )\r\n      // console.timeEnd('计算有多小种可选路径需要的时间是');\r\n    },\r\n    getArrayToSting(arr) {\r\n      let str = ''\r\n      arr.map((item, index) => {\r\n        item = item.replace(/\\./g, '。')\r\n        if (index == 0) {\r\n          str += item\r\n        } else {\r\n          str += ',' + item\r\n        }\r\n      })\r\n      return str\r\n    },\r\n    // 检测sku选项是否已全部选完,且有库存\r\n    checkSelectComplete(obj = {}) {\r\n      let that = this\r\n      let clickTime = new Date().getTime()\r\n      if (that.clickTime && clickTime - that.clickTime < 400) {\r\n        return false\r\n      }\r\n      that.clickTime = clickTime\r\n      let { selectShop, selectNum, stockText, stockName } = that\r\n      if (!selectShop || !selectShop[that.skuIdName]) {\r\n        that.toast('请先选择对应规格', 'none')\r\n        return false\r\n      }\r\n      if (selectNum <= 0) {\r\n        that.toast('购买数量必须>0', 'none')\r\n        return false\r\n      }\r\n      // 判断库存\r\n      if (selectNum > selectShop[stockName]) {\r\n        that.toast(stockText + '不足', 'none')\r\n        return false\r\n      }\r\n      if (typeof obj.success == 'function') obj.success(selectShop)\r\n    },\r\n    // 加入购物车\r\n    addCart() {\r\n      let that = this\r\n      that.checkSelectComplete({\r\n        success: function (selectShop) {\r\n          selectShop.buy_num = that.selectNum\r\n          that.$emit('add-cart', selectShop)\r\n          that.$emit('cart', selectShop)\r\n          // setTimeout(function() {\r\n          // \tthat.init();\r\n          // }, 300);\r\n        },\r\n      })\r\n    },\r\n    // 立即购买\r\n    buyNow() {\r\n      let that = this\r\n      that.checkSelectComplete({\r\n        success: function (selectShop) {\r\n          selectShop.buy_num = that.selectNum\r\n          that.$emit('buy-now', selectShop)\r\n          that.$emit('buy', selectShop)\r\n        },\r\n      })\r\n    },\r\n    // 弹窗\r\n    toast(title, icon) {\r\n      uni.showToast({\r\n        title: title,\r\n        icon: icon,\r\n      })\r\n    },\r\n    // 获取对象数组中的某一个item,根据指定的键值\r\n    getListItem(list, key, value) {\r\n      let that = this\r\n      let item\r\n      for (let i in list) {\r\n        if (typeof value == 'object') {\r\n          if (JSON.stringify(list[i][key]) === JSON.stringify(value)) {\r\n            item = list[i]\r\n            break\r\n          }\r\n        } else {\r\n          if (list[i][key] === value) {\r\n            item = list[i]\r\n            break\r\n          }\r\n        }\r\n      }\r\n      return item\r\n    },\r\n    getListIndex(list, key, value) {\r\n      let that = this\r\n      let index = -1\r\n      for (let i = 0; i < list.length; i++) {\r\n        if (list[i][key] === value) {\r\n          index = i\r\n          break\r\n        }\r\n      }\r\n      return index\r\n    },\r\n    // 自动选择sku前提是只有一组sku,默认自动选择最前面的有库存的sku\r\n    autoClickSku() {\r\n      let that = this\r\n      let { stockName } = that\r\n      let skuList = that.goodsInfo[that.skuListName]\r\n      let specListArr = that.goodsInfo[that.specListName]\r\n      if (specListArr.length == 1) {\r\n        let specList = specListArr[0].list\r\n        for (let i = 0; i < specList.length; i++) {\r\n          let sku = that.getListItem(skuList, that.skuArrName, [specList[i].name])\r\n          if (sku && sku[stockName] > 0) {\r\n            that.skuClick(specList[i], 0, i)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    },\r\n    // 主题颜色\r\n    themeColorFn(name) {\r\n      let that = this\r\n      let { theme, themeColor } = that\r\n      let color = that[name] ? that[name] : themeColor[theme][name]\r\n      return color\r\n    },\r\n    defaultSelectSku() {\r\n      let that = this\r\n      let { defaultSelect } = that\r\n      if (defaultSelect && defaultSelect.sku && defaultSelect.sku.length > 0) {\r\n        that.selectSku(defaultSelect)\r\n      }\r\n    },\r\n    /**\r\n\t\t\t * 主动方法 - 设置sku\r\n\t\t\tthat.$refs.skuPopup.selectSku({\r\n\t\t\t\tsku:[\"红色\",\"256G\",\"公开版\"],\r\n\t\t\t\tnum:5\r\n\t\t\t});\r\n\t\t\t */\r\n    selectSku(obj = {}) {\r\n      let that = this\r\n      let { sku: skuArr, num: selectNum } = obj\r\n      let specListArr = that.goodsInfo[that.specListName]\r\n      if (skuArr && specListArr.length === skuArr.length) {\r\n        // 先清空\r\n        let skuClickArr = []\r\n        let clickKey = true\r\n        for (let index = 0; index < skuArr.length; index++) {\r\n          let skuName = skuArr[index]\r\n          let specList = specListArr[index].list\r\n          let index1 = index\r\n          let index2 = that.getListIndex(specList, 'name', skuName)\r\n          if (index2 == -1) {\r\n            clickKey = false\r\n            break\r\n          }\r\n          skuClickArr.push({\r\n            spec: specList[index2],\r\n            index1: index1,\r\n            index2: index2,\r\n          })\r\n        }\r\n        if (clickKey) {\r\n          that.init(true)\r\n          skuClickArr.map((item) => {\r\n            that.skuClick(item.spec, item.index1, item.index2)\r\n          })\r\n        }\r\n      }\r\n      if (selectNum > 0) that.selectNum = selectNum\r\n    },\r\n    priceFilter(n = 0) {\r\n      let that = this\r\n      if (typeof n == 'string') {\r\n        n = parseFloat(n)\r\n      }\r\n      if (that.amountType === 0) {\r\n        return n.toFixed(2)\r\n      } else {\r\n        return (n / 100).toFixed(2)\r\n      }\r\n    },\r\n    pushGoodsCache(goodsInfo) {\r\n      let that = this\r\n      let { goodsIdName } = that\r\n      goodsCache[goodsInfo[goodsIdName]] = goodsInfo\r\n    },\r\n    // 用于阻止冒泡\r\n    stop() {},\r\n    // 图片预览\r\n    previewImage() {\r\n      let that = this\r\n      let { selectShop, goodsInfo, goodsThumbName } = that\r\n      let src = selectShop.image ? selectShop.image : goodsInfo[goodsThumbName]\r\n      if (src) {\r\n        uni.previewImage({\r\n          urls: [src],\r\n        })\r\n      }\r\n    },\r\n    getMaxStock() {\r\n      let maxStock = 0\r\n      let that = this\r\n      let { selectShop = {}, goodsInfo = {}, skuListName, stockName } = that\r\n      if (selectShop[stockName]) {\r\n        maxStock = selectShop[stockName]\r\n      } else {\r\n        let skuList = goodsInfo[skuListName]\r\n        if (skuList && skuList.length > 0) {\r\n          let valueArr = []\r\n          skuList.map((skuItem, index) => {\r\n            valueArr.push(skuItem[stockName])\r\n          })\r\n          let max = Math.max(...valueArr)\r\n          maxStock = max\r\n        }\r\n      }\r\n      return maxStock\r\n    },\r\n    numChange(e) {\r\n      this.$emit('num-change', e.value)\r\n    },\r\n  },\r\n  // 计算属性\r\n  computed: {\r\n    valueCom() {\r\n      // #ifndef VUE3\r\n      return this.value\r\n      // #endif\r\n\r\n      // #ifdef VUE3\r\n      return this.modelValue\r\n      // #endif\r\n    },\r\n    // 最大购买数量\r\n    maxBuyNumCom() {\r\n      let that = this\r\n      let maxStock = that.getMaxStock()\r\n      let max = that.maxBuyNum || 100000\r\n      // 最大购买量不能超过当前商品的库存\r\n      if (max > maxStock) {\r\n        max = maxStock\r\n      }\r\n      return max\r\n    },\r\n    // 是否是多规格\r\n    isManyCom() {\r\n      let that = this\r\n      let { goodsInfo, defaultSingleSkuName, specListName } = that\r\n      let isMany = true\r\n      if (\r\n        goodsInfo[specListName] &&\r\n        goodsInfo[specListName].length === 1 &&\r\n        goodsInfo[specListName][0].list.length === 1 &&\r\n        goodsInfo[specListName][0].name === defaultSingleSkuName\r\n      ) {\r\n        isMany = false\r\n      }\r\n      return isMany\r\n    },\r\n    // 默认价格区间计算\r\n    priceCom() {\r\n      let str = ''\r\n      let that = this\r\n      let { selectShop = {}, goodsInfo = {}, skuListName, skuIdName } = that\r\n      if (selectShop[skuIdName]) {\r\n        str = that.priceFilter(selectShop.price)\r\n      } else {\r\n        let skuList = goodsInfo[skuListName]\r\n        if (skuList && skuList.length > 0) {\r\n          let valueArr = []\r\n          skuList.map((skuItem, index) => {\r\n            valueArr.push(skuItem.price)\r\n          })\r\n          let min = that.priceFilter(Math.min(...valueArr))\r\n          let max = that.priceFilter(Math.max(...valueArr))\r\n          if (min === max) {\r\n            str = min + ''\r\n          } else {\r\n            str = `${min} - ${max}`\r\n          }\r\n        }\r\n      }\r\n      return str\r\n    },\r\n    // 库存显示\r\n    stockCom() {\r\n      let str = ''\r\n      let that = this\r\n      let { selectShop = {}, goodsInfo = {}, skuListName, stockName } = that\r\n      if (selectShop[stockName]) {\r\n        str = selectShop[stockName]\r\n      } else {\r\n        let skuList = goodsInfo[skuListName]\r\n        if (skuList && skuList.length > 0) {\r\n          let valueArr = []\r\n          skuList.map((skuItem, index) => {\r\n            valueArr.push(skuItem[stockName])\r\n          })\r\n          let min = Math.min(...valueArr)\r\n          let max = Math.max(...valueArr)\r\n          if (min === max) {\r\n            str = min\r\n          } else {\r\n            str = `${min} - ${max}`\r\n          }\r\n        }\r\n      }\r\n      return str\r\n    },\r\n  },\r\n  watch: {\r\n    valueCom(newVal, oldValue) {\r\n      let that = this\r\n      if (newVal) {\r\n        that.open()\r\n      }\r\n    },\r\n    defaultGoods: {\r\n      immediate: true,\r\n      handler: function (newVal, oldValue) {\r\n        let that = this\r\n        let { goodsIdName } = that\r\n        if (\r\n          typeof newVal === 'object' &&\r\n          newVal &&\r\n          newVal[goodsIdName] &&\r\n          !goodsCache[newVal[goodsIdName]]\r\n        ) {\r\n          that.pushGoodsCache(newVal)\r\n        }\r\n      },\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/*  sku弹出层 */\r\n.vk-data-goods-sku-popup {\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 990;\r\n  overflow: hidden;\r\n  &.show {\r\n    display: block;\r\n\r\n    .mask {\r\n      animation: showPopup 0.2s linear both;\r\n    }\r\n\r\n    .layer {\r\n      animation: showLayer 0.2s linear both;\r\n      bottom: var(--window-bottom);\r\n    }\r\n  }\r\n\r\n  &.hide {\r\n    .mask {\r\n      animation: hidePopup 0.2s linear both;\r\n    }\r\n\r\n    .layer {\r\n      animation: hideLayer 0.2s linear both;\r\n    }\r\n  }\r\n\r\n  &.none {\r\n    display: none;\r\n  }\r\n  .mask {\r\n    position: fixed;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 1;\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n  }\r\n  .layer {\r\n    display: flex;\r\n    width: 100%;\r\n    // height: 1014rpx;\r\n    flex-direction: column;\r\n    // min-height: 40vh;\r\n    // max-height: 1014rpx;\r\n    position: fixed;\r\n    z-index: 99;\r\n    bottom: 0;\r\n    border-radius: 10rpx 10rpx 0 0;\r\n    background-color: #fff;\r\n\r\n    .specification-wrapper {\r\n      width: 100%;\r\n      padding: 30rpx 25rpx;\r\n      box-sizing: border-box;\r\n      .specification-wrapper-content {\r\n        width: 100%;\r\n        max-height: 900rpx;\r\n        min-height: 300rpx;\r\n        &::-webkit-scrollbar {\r\n          /*隐藏滚轮*/\r\n          display: none;\r\n        }\r\n\r\n        .specification-header {\r\n          width: 100%;\r\n          display: flex;\r\n          flex-direction: row;\r\n          position: relative;\r\n          margin-bottom: 40rpx;\r\n\r\n          .specification-left {\r\n            width: 180rpx;\r\n            height: 180rpx;\r\n            flex: 0 0 180rpx;\r\n\r\n            .product-img {\r\n              width: 180rpx;\r\n              height: 180rpx;\r\n            }\r\n          }\r\n\r\n          .specification-right {\r\n            flex: 1;\r\n            padding: 0 35rpx 0 28rpx;\r\n            box-sizing: border-box;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: flex-end;\r\n            font-weight: 500;\r\n\r\n            .price-content {\r\n              color: #fe560a;\r\n              margin-bottom: 20rpx;\r\n\r\n              .sign {\r\n                font-size: 28rpx;\r\n              }\r\n\r\n              .price {\r\n                margin-left: 4rpx;\r\n                font-size: 48rpx;\r\n              }\r\n              .price2 {\r\n                margin-left: 4rpx;\r\n                font-size: 36rpx;\r\n              }\r\n            }\r\n\r\n            .inventory {\r\n              font-size: 24rpx;\r\n              color: #999999;\r\n              margin-bottom: 14rpx;\r\n            }\r\n\r\n            .choose {\r\n              font-size: 28rpx;\r\n              color: #333333;\r\n            }\r\n          }\r\n        }\r\n\r\n        .specification-content {\r\n          font-weight: 500;\r\n\r\n          .specification-item {\r\n            margin-bottom: 40rpx;\r\n\r\n            &:last-child {\r\n              margin-bottom: 0;\r\n            }\r\n\r\n            .item-title {\r\n              margin-bottom: 20rpx;\r\n              font-size: 28rpx;\r\n              color: #999999;\r\n            }\r\n\r\n            .item-wrapper {\r\n              display: flex;\r\n              flex-direction: row;\r\n              flex-flow: wrap;\r\n\r\n              .item-content {\r\n                display: inline-block;\r\n                padding: 10rpx 35rpx;\r\n                font-size: 24rpx;\r\n                border-radius: 10rpx;\r\n                background-color: #ffffff;\r\n                color: #333333;\r\n                margin-right: 20rpx;\r\n                margin-bottom: 16rpx;\r\n                border: 1px solid #f4f4f4;\r\n                box-sizing: border-box;\r\n                &.actived {\r\n                  border-color: #fe560a;\r\n                  color: #fe560a;\r\n                }\r\n\r\n                &.noactived {\r\n                  background-color: #f6f6f6;\r\n                  border-color: #f6f6f6;\r\n                  color: #c3c3c3;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          .number-box-view {\r\n            display: flex;\r\n            padding-top: 30rpx;\r\n          }\r\n        }\r\n      }\r\n      .close {\r\n        position: absolute;\r\n        top: 30rpx;\r\n        right: 25rpx;\r\n        width: 50rpx;\r\n        height: 50rpx;\r\n        text-align: center;\r\n        line-height: 50rpx;\r\n        .close-item {\r\n          width: 50rpx;\r\n          height: 50rpx;\r\n        }\r\n      }\r\n    }\r\n    .btn-wrapper {\r\n      display: flex;\r\n      width: 100%;\r\n      height: 120rpx;\r\n      flex: 0 0 120rpx;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      padding: 0 26rpx;\r\n      box-sizing: border-box;\r\n      .layer-btn {\r\n        width: 335rpx;\r\n        height: 76rpx;\r\n        border-radius: 38rpx;\r\n        color: #fff;\r\n        line-height: 76rpx;\r\n        text-align: center;\r\n        font-weight: 500;\r\n        font-size: 28rpx;\r\n\r\n        &.add-cart {\r\n          background: #ffbe46;\r\n        }\r\n\r\n        &.buy {\r\n          background: #fe560a;\r\n        }\r\n      }\r\n      .sure {\r\n        width: 698rpx;\r\n        height: 68rpx;\r\n        border-radius: 38rpx;\r\n        color: #fff;\r\n        line-height: 68rpx;\r\n        text-align: center;\r\n        font-weight: 500;\r\n        font-size: 28rpx;\r\n        background: #fe560a;\r\n      }\r\n      .sure.add-cart {\r\n        background: #ff9402;\r\n      }\r\n    }\r\n    .btn-wrapper.safe-area-inset-bottom {\r\n      padding-bottom: 0;\r\n      padding-bottom: constant(safe-area-inset-bottom);\r\n      padding-bottom: env(safe-area-inset-bottom);\r\n    }\r\n  }\r\n\r\n  @keyframes showPopup {\r\n    0% {\r\n      opacity: 0;\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n  @keyframes hidePopup {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n\r\n    100% {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  @keyframes showLayer {\r\n    0% {\r\n      transform: translateY(120%);\r\n    }\r\n\r\n    100% {\r\n      transform: translateY(0%);\r\n    }\r\n  }\r\n\r\n  @keyframes hideLayer {\r\n    0% {\r\n      transform: translateY(0);\r\n    }\r\n\r\n    100% {\r\n      transform: translateY(120%);\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import Component from 'E:/uniapp-pro/heima-shop/src/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue'\nwx.createComponent(Component)"],"names":["uni"],"mappings":"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"}