{"version":3,"file":"my.js","sources":["../../../../../src/pages/my/my.vue","../../../../../uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["// src/pages/my/my.vue\r\n\r\n<script setup lang=\"ts\">\r\nimport { useGuessList } from '@/composables'\r\nimport { useMemberStore } from '@/stores'\r\n// import type { XtxGuessInstance } from '@/types/component'\r\n// import { ref } from 'vue'\r\n\r\n// 获取屏幕边界到安全区域距离\r\nconst { safeAreaInsets } = uni.getSystemInfoSync()\r\n// 订单选项\r\nconst orderTypes = [\r\n  { type: 1, text: '待付款', icon: 'icon-currency' },\r\n  { type: 2, text: '待发货', icon: 'icon-gift' },\r\n  { type: 3, text: '待收货', icon: 'icon-check' },\r\n  { type: 4, text: '待评价', icon: 'icon-comment' },\r\n]\r\n//获取会员信息\r\nconst memberStore = useMemberStore()\r\nconst { guessRef, onSrolltolower } = useGuessList()\r\n</script>\r\n\r\n<template>\r\n  <scroll-view class=\"viewport\" @scrolltolower=\"onSrolltolower\" scroll-y enable-back-to-top>\r\n    <!-- 个人资料 -->\r\n    <view class=\"profile\" :style=\"{ paddingTop: safeAreaInsets!.top + 'px' }\">\r\n      <!-- 情况1：已登录 -->\r\n      <view class=\"overview\" v-if=\"memberStore.profile\">\r\n        <navigator url=\"/pagesMember/profile/profile\" hover-class=\"none\">\r\n          <image class=\"avatar\" mode=\"aspectFill\" :src=\"memberStore.profile.avatar\"></image>\r\n        </navigator>\r\n        <view class=\"meta\">\r\n          <view class=\"nickname\">\r\n            {{ memberStore.profile.nickname || memberStore.profile.account }}\r\n          </view>\r\n          <navigator class=\"extra\" url=\"/pagesMember/profile/profile\" hover-class=\"none\">\r\n            <text class=\"update\">更新头像昵称</text>\r\n          </navigator>\r\n        </view>\r\n      </view>\r\n      <!-- 情况2：未登录 -->\r\n      <view class=\"overview\" v-else>\r\n        <navigator url=\"/pages/login/login\" hover-class=\"none\">\r\n          <image\r\n            class=\"avatar gray\"\r\n            mode=\"aspectFill\"\r\n            src=\"http://yjy-xiaotuxian-dev.oss-cn-beijing.aliyuncs.com/picture/2021-04-06/db628d42-88a7-46e7-abb8-659448c33081.png\"\r\n          ></image>\r\n        </navigator>\r\n        <view class=\"meta\">\r\n          <navigator url=\"/pages/login/login\" hover-class=\"none\" class=\"nickname\">\r\n            未登录\r\n          </navigator>\r\n          <view class=\"extra\">\r\n            <text class=\"tips\">点击登录账号</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <navigator class=\"settings\" url=\"/pagesMember/setting/setting\" hover-class=\"none\">\r\n        设置\r\n      </navigator>\r\n    </view>\r\n    <!-- 我的订单 -->\r\n    <view class=\"orders\">\r\n      <view class=\"title\">\r\n        我的订单\r\n        <navigator class=\"navigator\" url=\"/pagesOrder/list/list?type=0\" hover-class=\"none\">\r\n          查看全部订单<text class=\"icon-right\"></text>\r\n        </navigator>\r\n      </view>\r\n      <view class=\"section\">\r\n        <!-- 订单 -->\r\n        <navigator\r\n          v-for=\"item in orderTypes\"\r\n          :key=\"item.type\"\r\n          :class=\"item.icon\"\r\n          :url=\"`/pagesOrder/list/list?type=${item.type}`\"\r\n          class=\"navigator\"\r\n          hover-class=\"none\"\r\n        >\r\n          {{ item.text }}\r\n        </navigator>\r\n        <!-- 客服 -->\r\n        <button class=\"contact icon-handset\" open-type=\"contact\">售后</button>\r\n      </view>\r\n    </view>\r\n    <!-- 猜你喜欢 -->\r\n    <view class=\"guess\">\r\n      <XtxGuess ref=\"guessRef\" />\r\n    </view>\r\n  </scroll-view>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\npage {\r\n  height: 100%;\r\n  overflow: hidden;\r\n  background-color: #f7f7f8;\r\n}\r\n\r\n.viewport {\r\n  height: 100%;\r\n  background-repeat: no-repeat;\r\n  background-image: url(https://pcapi-xiaotuxian-front-devtest.itheima.net/miniapp/images/center_bg.png);\r\n  background-size: 100% auto;\r\n}\r\n\r\n/* 用户信息 */\r\n.profile {\r\n  margin-top: 20rpx;\r\n  position: relative;\r\n\r\n  .overview {\r\n    display: flex;\r\n    height: 120rpx;\r\n    padding: 0 36rpx;\r\n    color: #fff;\r\n  }\r\n\r\n  .avatar {\r\n    width: 120rpx;\r\n    height: 120rpx;\r\n    border-radius: 50%;\r\n    background-color: #eee;\r\n  }\r\n\r\n  .gray {\r\n    filter: grayscale(100%);\r\n  }\r\n\r\n  .meta {\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n    line-height: 30rpx;\r\n    padding: 16rpx 0;\r\n    margin-left: 20rpx;\r\n  }\r\n\r\n  .nickname {\r\n    max-width: 350rpx;\r\n    margin-bottom: 16rpx;\r\n    font-size: 30rpx;\r\n\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n\r\n  .extra {\r\n    display: flex;\r\n    font-size: 20rpx;\r\n  }\r\n\r\n  .tips {\r\n    font-size: 22rpx;\r\n  }\r\n\r\n  .update {\r\n    padding: 3rpx 10rpx 1rpx;\r\n    color: rgba(255, 255, 255, 0.8);\r\n    border: 1rpx solid rgba(255, 255, 255, 0.8);\r\n    margin-right: 10rpx;\r\n    border-radius: 30rpx;\r\n  }\r\n\r\n  .settings {\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 40rpx;\r\n    font-size: 30rpx;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n/* 我的订单 */\r\n.orders {\r\n  position: relative;\r\n  z-index: 99;\r\n  padding: 30rpx;\r\n  margin: 50rpx 20rpx 0;\r\n  background-color: #fff;\r\n  border-radius: 10rpx;\r\n  box-shadow: 0 4rpx 6rpx rgba(240, 240, 240, 0.6);\r\n\r\n  .title {\r\n    height: 40rpx;\r\n    line-height: 40rpx;\r\n    font-size: 28rpx;\r\n    color: #1e1e1e;\r\n\r\n    .navigator {\r\n      font-size: 24rpx;\r\n      color: #939393;\r\n      float: right;\r\n    }\r\n  }\r\n\r\n  .section {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding: 40rpx 20rpx 10rpx;\r\n    .navigator,\r\n    .contact {\r\n      text-align: center;\r\n      font-size: 24rpx;\r\n      color: #333;\r\n      &::before {\r\n        display: block;\r\n        font-size: 60rpx;\r\n        color: #ff9545;\r\n      }\r\n    }\r\n    .contact {\r\n      padding: 0;\r\n      margin: 0;\r\n      border: 0;\r\n      background-color: transparent;\r\n      line-height: inherit;\r\n    }\r\n  }\r\n}\r\n\r\n/* 猜你喜欢 */\r\n.guess {\r\n  background-color: #f7f7f8;\r\n  margin-top: 20rpx;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'E:/uniapp-pro/heima-shop/src/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","useMemberStore","useGuessList"],"mappings":";;;;;;;;;;;;;;;;AASA,UAAM,EAAE,eAAA,IAAmBA,cAAA,MAAI,kBAAkB;AAEjD,UAAM,aAAa;AAAA,MACjB,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,gBAAgB;AAAA,MAC9C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,YAAY;AAAA,MAC1C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,aAAa;AAAA,MAC3C,EAAE,MAAM,GAAG,MAAM,OAAO,MAAM,eAAe;AAAA,IAAA;AAG/C,UAAM,cAAcC,sBAAAA;AACpB,UAAM,EAAE,UAAU,eAAe,IAAIC,kBAAa,aAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClBlD,GAAG,WAAW,eAAe;"}